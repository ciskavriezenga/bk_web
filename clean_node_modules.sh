#!/bin/bash

echo "Starting cleanup..."

# NODE_MODULES
echo ""
echo "Found the following node_modules folders:"
find . -name "node_modules" -type d -prune || echo "(none found)"

read -p "Delete all node_modules folders? (y/N): " confirm_node
if [[ $confirm_node == [yY] ]]; then
  echo "Deleting node_modules folders..."
  find . -name "node_modules" -type d -prune -exec rm -rf '{}' +
else
  echo "Skipping node_modules folders."
fi

# VENV / .VENV
echo ""
echo "Found the following Python virtual environments (venv/.venv):"
find . \( -name "venv" -o -name ".venv" \) -type d -prune || echo "(none found)"

read -p "Delete all Python virtual environments (venv/.venv)? (y/N): " confirm_venv
if [[ $confirm_venv == [yY] ]]; then
  echo "Deleting Python virtual environments..."
  find . \( -name "venv" -o -name ".venv" \) -type d -prune -exec rm -rf '{}' +
else
  echo "Skipping Python virtual environments."
fi

# DS_STORE FILES
echo ""
echo "Found the following .DS_Store files:"
find . -name ".DS_Store" -type f || echo "(none found)"

read -p "Delete all .DS_Store files? (y/N): " confirm_dsstore
if [[ $confirm_dsstore == [yY] ]]; then
  echo "Deleting .DS_Store files..."
  find . -name ".DS_Store" -type f -delete
else
  echo "Skipping .DS_Store files."
fi

echo ""
echo "Cleanup complete."
